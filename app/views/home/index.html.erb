<main class="max-w-screen-lg p-2 mx-auto">    
  <section class="home-img">
    <div class="w-full home-slide-height">
      <div class="h-full swiper mySwiperTop md:w-auto" data-controller="swiper-carousel-top">
        <div class="h-full swiper-wrapper">
          <% @restaurants.each do |restaurant| %>
            <% restaurant.images.sample(1).each do |image| %>
              <div class="swiper-slide">
                <%= image_tag (image.url) ,class:"object-cover w-full h-full" %>
              </div>
            <% end %>
          <% end %>
        </div>
        <div class="swiper-button-next swiper-button-next-top"></div>
        <div class="swiper-button-prev swiper-button-prev-top"></div>
        <div class="swiper-pagination swiper-pagination-top"></div>
      </div> 
    </div>
  
    <div data-controller="home-tag">
      <%= form_with(url: root_path, method: :get, class: "pb-4 mt-4" )do |form| %>
        <%= form.label :搜尋餐廳, class: "text-lg font-bold hidden md:inline-block" %>
        <%= form.text_field :search, placeholder: "輸入搜尋餐廳", class: "input-border-click py-1.5 w-full md:w-1/3" %>
        <%= form.submit "搜尋", name: nil, class: "mt-4 major-btn cursor-pointer px-6 py-2" %>
        <button class="">
          <%= link_to "所有餐廳", root_path, class: "px-6 py-2 text-major border-2 border-major rounded text-sm p-1 hover:bg-major hover:text-white" %>
        </button>
        
        <button class="px-6 py-2 major-btn" data-action="click->home-tag#setTagSection">標籤搜尋</button>

        <div class="hidden py-4 my-4 border-t-2 border-b-2" data-home-tag-target="tagSection">
          <%= render partial: 'tag', collection: @tags %>
        </div>

      <% end %>
    </div>

    <div class="grid grid-cols-2 gap-4">
      <div>
        <h4 class="mb-4 text-lg font-bold">用餐人數</h4>
      
        <div class="flex">
          <select class="w-full mr-4 input-border-click">
            <option value="">大人人數</option>
          </select>
          <select class="w-full input-border-click">
            <option value="">小孩人數</option>
          </select>
        </div>
      </div>

      <div>
        <h4 class="mb-4 text-lg font-bold">用餐日期</h4>
        <div>
          <input type="date" class="w-full date input-border-click">
        </div>
      </div>
    </div>
  </section>
  
  <section>
    <div>
      <%= render partial: "restaurant", collection: @restaurants %>
    </div>
  </section>

</main>